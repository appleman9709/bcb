#!/usr/bin/env python3
"""
–ü—Ä–æ—Å—Ç–æ–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–æ–≤–µ—Ç–æ–≤ –≤ Supabase
"""

import os
from dotenv import load_dotenv
from supabase import create_client, Client

# –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
load_dotenv()

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Supabase
supabase: Client = create_client(os.getenv('SUPABASE_URL'), os.getenv('SUPABASE_KEY'))

# –ù–µ—Å–∫–æ–ª—å–∫–æ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–æ–≤–µ—Ç–æ–≤
TEST_TIPS = [
    {
        'age_months': 0,
        'content': 'üçº –ö–æ—Ä–º–∏—Ç–µ –º–∞–ª—ã—à–∞ –∫–∞–∂–¥—ã–µ 2-3 —á–∞—Å–∞, –¥–∞–∂–µ –Ω–æ—á—å—é. –ù–æ–≤–æ—Ä–æ–∂–¥–µ–Ω–Ω—ã–µ –µ–¥—è—Ç —á–∞—Å—Ç–æ –∏ –ø–æ–Ω–µ–º–Ω–æ–≥—É.',
        'category': '–ö–æ—Ä–º–ª–µ–Ω–∏–µ'
    },
    {
        'age_months': 0,
        'content': 'üí§ –°–æ–Ω –Ω–æ–≤–æ—Ä–æ–∂–¥–µ–Ω–Ω–æ–≥–æ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 16-18 —á–∞—Å–æ–≤ –≤ —Å—É—Ç–∫–∏. –ù–µ –±–µ—Å–ø–æ–∫–æ–π—Ç–µ—Å—å, –µ—Å–ª–∏ –º–∞–ª—ã—à —Å–ø–∏—Ç –º–Ω–æ–≥–æ.',
        'category': '–°–æ–Ω'
    },
    {
        'age_months': 1,
        'content': 'üòä –ú–∞–ª—ã—à –Ω–∞—á–∏–Ω–∞–µ—Ç —É–ª—ã–±–∞—Ç—å—Å—è! –≠—Ç–æ –≤–∞–∂–Ω—ã–π —ç—Ç–∞–ø —Å–æ—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è.',
        'category': '–†–∞–∑–≤–∏—Ç–∏–µ'
    },
    {
        'age_months': 2,
        'content': 'ü§≤ –ú–∞–ª—ã—à –Ω–∞—á–∏–Ω–∞–µ—Ç —Ö–≤–∞—Ç–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç—ã. –î–∞–≤–∞–π—Ç–µ –µ–º—É –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∏–≥—Ä—É—à–∫–∏ –¥–ª—è —Ä–∞–∑–≤–∏—Ç–∏—è –º–æ—Ç–æ—Ä–∏–∫–∏.',
        'category': '–†–∞–∑–≤–∏—Ç–∏–µ'
    },
    {
        'age_months': 3,
        'content': 'üîÑ –ú–∞–ª—ã—à –ø–µ—Ä–µ–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è —Å –∂–∏–≤–æ—Ç–∞ –Ω–∞ —Å–ø–∏–Ω—É. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–∞.',
        'category': '–†–∞–∑–≤–∏—Ç–∏–µ'
    }
]

def add_test_tips():
    """–î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–æ–≤–µ—Ç—ã"""
    print("üöÄ –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–æ–≤–µ—Ç—ã...")
    
    try:
        for tip in TEST_TIPS:
            result = supabase.table('tips').insert(tip).execute()
            print(f"‚úÖ –î–æ–±–∞–≤–ª–µ–Ω —Å–æ–≤–µ—Ç –¥–ª—è {tip['age_months']} –º–µ—Å—è—Ü–µ–≤: {tip['category']}")
        
        print(f"\nüéâ –£—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ {len(TEST_TIPS)} —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–æ–≤–µ—Ç–æ–≤!")
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
        result = supabase.table('tips').select('*').execute()
        print(f"üìä –í—Å–µ–≥–æ —Å–æ–≤–µ—Ç–æ–≤ –≤ –±–∞–∑–µ: {len(result.data)}")
        
    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Å–æ–≤–µ—Ç–æ–≤: {e}")
        print("üí° –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ 'tips' —Å–æ–∑–¥–∞–Ω–∞ –≤ Supabase")

if __name__ == "__main__":
    add_test_tips()
